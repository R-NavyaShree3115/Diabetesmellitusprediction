<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Predict Diabetes</title>
< meta name="viewport" content="width=device-width, initial-scale=1.0">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
<link rel="stylesheet" href="{{ url_for('static', filename='premium.css') }}">
</head>
<body>
    <header class="header"> <div class="logo"><i class="fa-solid fa-heartbeat"></i> CareConnect</div> <nav> <ul> <li><a href="loginpage.html"><i class="fa-solid fa-house"></i> Home</a></li> <li><a href="logout.html"><i class="fa-solid fa-right-from-bracket"></i> Logout</a></li> </ul> </nav> </header>
     
    <section class="container dashboard" id="container">
<h2>ğŸ”® Predict Using Trained Model</h2>
<form id="predictForm">
  <label>Pregnancies: <input type="number" name="Pregnancies"></label><br>
  <label>Glucose: <input type="number" name="Glucose"></label><br>
  <label>BloodPressure: <input type="number" name="BloodPressure"></label><br>
  <label>SkinThickness: <input type="number" name="SkinThickness"></label><br>
  <label>Insulin: <input type="number" name="Insulin"></label><br>
  <label>BMI: <input type="number" step="0.1" name="BMI"></label><br>
  <label>Age: <input type="number" name="Age"></label><br>
  <button type="submit">Predict</button>
</form>

<div id="result"></div>

<script>
const form = document.getElementById('predictForm');
form.addEventListener('submit', async (e)=>{
    e.preventDefault();
    const data = {};
    new FormData(form).forEach((v,k)=>data[k]=v);

    const res = await fetch('http://127.0.0.1:5000/predict',{
        method:'POST',
        headers:{'Content-Type':'application/json'},
        body: JSON.stringify(data)
    });

    const result = await res.json();
    document.getElementById('result').innerHTML = result.status==='success' ? 
        (result.prediction===1 ? 'âš ï¸ Diabetes Detected' : 'âœ… No Diabetes') :
        'âŒ '+result.message;
});
</script>
</body>
</html>
